class Controller():
    def __init__(self,starttime,total):
        self.width_h = 30
        self.height_h = 20
        self.x = 249
        self.y = 454
        self.angle = 70.0
        self.camangle = 30.0
        self.eatangle = 15.0
        self.bumper = [0, 0, 0, 0]
        self.IR = [0, 0, 0, 0]
        self.thrown = False
        self.ballnum = 0 
        self.step = 20
        self.st = starttime
        self.total = total
        self.count=0
        self.new=0
    
    def getBallCount(self):
        return 1

    def goStraight(self,direction):
        while time.time()-self.st<self.total and sum(self.bumper)==0:
            an=self.angle/180*math.pi
            self.x -= direction*self.step * math.sin(an)
            self.y += direction*self.step * math.cos(an)
            time.sleep(1)
            print "go straight",self.x,self.y,self.angle

        """
        while sum(self.control.bumper())==1:
            #only rotate
            a=1
        """
         
    def throwBall(self):
        self.thrown = True
        
    def goTurn(self, angle):
        #print "angle : ",self.angle 
        self.angle += angle
        if self.angle > 360:
            self.angle -= 360
        elif self.angle < 0:
            self.angle += 360
        time.sleep(1)
               
    def getBumper(self):
        return self.bumper

    def getIR(self):
        return self.IR

